<div
  class="w-full sticky top-0 z-50 bg-custom-bg shadow-sm h-[130px] bg-[#fffdfa]"
  dir="rtl"
>
  <div class="container mx-auto my-auto text-center">
    <nav class="flex items-baseline justify-between py-4 px-4 md:px-20">
      <!-- Contact Button & Mobile Menu -->
      <div class="text-left flex items-center space-x-4">
        <button
          (click)="toggleMenu()"
          aria-label="Toggle menu"
          class="text-[#b7b6b4] md:hidden"
        >
          <svg
            *ngIf="!menuOpen"
            xmlns="http://www.w3.org/2000/svg"
            width="50"
            height="50"
            viewBox="0 0 50 50"
            class="text-[#b7b6b4] ml-3"
          >
            <path
              d="M 2 9 L 2 11 L 48 11 L 48 9 L 2 9 z M 2 24 L 2 26 L 48 26 L 48 24 L 2 24 z M 2 39 L 2 41 L 48 41 L 48 39 L 2 39 z"
            ></path>
          </svg>

          <svg
            *ngIf="menuOpen"
            xmlns="http://www.w3.org/2000/svg"
            width="50"
            height="50"
            viewBox="0 0 50 50"
            class="text-[#b7b6b4] ml-3"
          >
            <line
              x1="10"
              y1="10"
              x2="40"
              y2="40"
              stroke="#b7b6b4"
              stroke-width="4"
            />
            <line
              x1="40"
              y1="10"
              x2="10"
              y2="40"
              stroke="#b7b6b4"
              stroke-width="4"
            />
          </svg>
        </button>

        <!-- WhatsApp Button (desktop lg and above) -->
        <button
          (click)="openWhatsApp()"
          class="hidden lg:flex items-center font-medium text-xl text-[#c5ae9e] hover:bg-[#9e775e] hover:text-white border border-[#c5ae9e] px-6 py-2 rounded-full whattsapp-btn"
        >
          <i class="fab fa-whatsapp ml-2"></i>
          راسلنا على واتساب
        </button>
      </div>

      <!-- Logo -->
      <img
        src="https://images.unsplash.com/vector-1739809075051-f1f6ea8fc6d1?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjB8fHBuZ3xlbnwwfHwwfHx8MA%3D%3D"
        alt="logo"
        class="w-20 h-20"
      />
    </nav>

    <!-- Mobile menu -->
    <div
      class="md:hidden bg-[#fffdfa] shadow-lg rounded-b-lg overflow-hidden transition-all duration-300 ease-in-out max-h-[60vh] overflow-y-auto"
      *ngIf="menuOpen"
    >
      <div class="flex flex-col">
        <a
          href="#"
          class="mobile-menu-item px-6 py-4 text-[#c5ae9e] text-lg font-medium hover:bg-[#f0ebe6]"
          >الرئيسية</a
        >
        <a
          href="#"
          class="mobile-menu-item px-6 py-4 text-[#c5ae9e] text-lg font-medium hover:bg-[#f0ebe6]"
          >الفلل</a
        >
        <a
          href="#"
          class="mobile-menu-item px-6 py-4 text-[#c5ae9e] text-lg font-medium hover:bg-[#f0ebe6]"
          >المجمع</a
        >
        <a
          href="#"
          class="mobile-menu-item px-6 py-4 text-[#c5ae9e] text-lg font-medium hover:bg-[#f0ebe6]"
          >الوجهة</a
        >
        <a
          href="#"
          class="mobile-menu-item px-6 py-4 text-[#c5ae9e] text-lg font-medium hover:bg-[#f0ebe6]"
          >استثمار</a
        >
        <a
          href="#"
          class="mobile-menu-item px-6 py-4 text-[#c5ae9e] text-lg font-medium hover:bg-[#f0ebe6]"
          >الفريق</a
        >

        <!-- News Dropdown -->
        <div class="mobile-menu-item">
          <a
            href="#"
            (click)="toggleDropdown('news')"
            class="flex justify-between items-center px-6 py-4 text-[#c5ae9e] text-lg font-medium cursor-pointer hover:bg-[#f0ebe6]"
          >
            <span>الأخبار</span>
            <i
              [ngClass]="{
                'fas fa-chevron-down transition-transform duration-300': true,
                'rotate-180': newsDropdownOpen
              }"
            ></i>
          </a>
          <div
            *ngIf="newsDropdownOpen"
            class="bg-[#f8f5f2] pl-8 flex flex-col space-y-2"
          >
            <a href="#" class="block px-4 py-2 text-[#9e775e] hover:underline"
              >آخر الأخبار</a
            >
            <a href="#" class="block px-4 py-2 text-[#9e775e] hover:underline"
              >البيانات الصحفية</a
            >
            <a href="#" class="block px-4 py-2 text-[#9e775e] hover:underline"
              >الفعاليات</a
            >
          </div>
        </div>

        <!-- Gallery Dropdown -->
        <div class="mobile-menu-item">
          <a
            href="#"
            (click)="toggleDropdown('gallery')"
            class="flex justify-between items-center px-6 py-4 text-[#c5ae9e] text-lg font-medium cursor-pointer hover:bg-[#f0ebe6]"
          >
            <span>المعرض</span>
            <i
              [ngClass]="{
                'fas fa-chevron-down transition-transform duration-300': true,
                'rotate-180': galleryDropdownOpen
              }"
            ></i>
          </a>
          <div
            *ngIf="galleryDropdownOpen"
            class="bg-[#f8f5f2] pl-8 flex flex-col space-y-2"
          >
            <a href="#" class="block px-4 py-2 text-[#9e775e] hover:underline"
              >معرض الصور</a
            >
            <a href="#" class="block px-4 py-2 text-[#9e775e] hover:underline"
              >الجولة الافتراضية</a
            >
            <a href="#" class="block px-4 py-2 text-[#9e775e] hover:underline"
              >معرض الفيديو</a
            >
          </div>
        </div>
        <!-- Inside your mobile menu div, add this at the bottom -->
        <button
          (click)="openWhatsApp()"
          class="flex items-center justify-center font-medium text-lg text-[#c5ae9e] hover:bg-[#9e775e] hover:text-white border border-[#c5ae9e] px-6 py-3 rounded-full m-4"
        >
          <i class="fab fa-whatsapp ml-2"></i>
          راسلنا على واتساب
        </button>
      </div>
    </div>
  </div>
</div>
